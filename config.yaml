breakout_scanner:
  enabled: true  # Scans for breakout candidates
  lookback_bars: 20
  max_candidates: 30
  max_price: 500.0
  min_atr_pct: 2.0
  min_price: 5.0
  proximity_pct: 2.0
  scan_interval_minutes: 15
broker:
  live_endpoint: https://api.alpaca.markets
  paper_endpoint: https://paper-api.alpaca.markets
capital_allocation:
  percentage_of_total: 80
  reserve_cash_pct: 10
daily_drawdown_guard:
  enabled: true
  hard_limit_pct: 4.0
  liquidation_timeout_sec: 30
  medium_limit_pct: 3.0
  partial_liquidation_pct: 50
  soft_limit_pct: 2.5
  tighten_stops_at_soft: true
  use_market_orders: true
  warning_pct: 2.0
  warning_size_multiplier: 0.5
data_quality:
  min_bars_required: 200
  stale_threshold_minutes: 60
  volume_filter_enabled: true
debug:
  log_all_signals: false
  log_signal_components: false
entry_gate:
  confidence_threshold: 80
  daily_loss_guard:
    enabled: true
    max_losing_trades_per_day: 2
  max_trades_per_symbol_per_day: 2
  min_time_between_trades_minutes: 120
exit_manager:
  eod_close: false  # Crypto trades 24/7 - no EOD close
  max_hold_hours: 168  # 7 days - let crypto positions run
  tier_0_hard_stop: -0.05
  tier_1_profit_floor: 0.0125
  tier_2_atr_trailing: 0.02
  tier_3_partial_take: 1.0  # Disabled (100% = never triggers)
  tier_4_partial_take2: 1.0  # Disabled
hot_stocks:
  cache_hours: 20
  enabled: true  # Daily gainers/losers scanner
  max_price: 1000
  min_price: 5
  min_volume: 500000
  top_n: 50
logging:
  database: logs/trades_1hour.db
  detailed_signals: false
  track_mfe_mae: true
longs_only: false
losing_streak_guard:
  enabled: true
  lookback_days: 3
  losing_threshold_r: 0.5
  min_losing_trades: 2
  throttle_multiplier: 0.5
# ============================================================
# BROKER MODE SWITCH - Change this to switch brokers
# ============================================================
# Options:
#   PAPER      - Alpaca paper trading (stocks + crypto)
#   LIVE       - Alpaca live trading (stocks + crypto)
#   TRADELOCKER - TradeLocker prop firm (crypto CFDs)
# ============================================================
mode: PAPER

# Crypto mode: true = 24/7 trading, false = market hours only
# Set true for TRADELOCKER, false for Alpaca stocks
crypto_mode: true
parity_capture:
  enabled: false
  flush_interval: 1
  include_bar_data: true
  include_indicators: true
  output_path: logs/parity_capture_1hour.jsonl
premarket_scanner:
  enabled: true  # Scans for premarket gaps
  max_gap_pct: 30.0
  max_price: 500.0
  max_symbols: 20
  min_gap_pct: 3.0
  min_premarket_volume: 50000
  min_price: 5.0
  scan_time: 09:25
promotion_requirements:
  min_profit_factor: 1.2
  min_trade_count: 30
  min_weeks_observed: 2
  min_win_rate: 0.45
purpose: capital
risk_management:
  emergency_stop_pct: 8.0
  force_liquidate_on_kill_switch: true
  max_daily_loss_pct: 4.0
  max_open_positions: 3
  max_portfolio_risk_pct: 30.0
  max_position_dollars: 999999  # No cap
  max_position_size_pct: 15
  max_shares: 999999  # No cap
  min_position_value: 50
  stop_loss_pct: 5.0
  take_profit_pct: 5.0
shorts_only: false
strategies:
  breakout:
    enabled: true
    weight: 0.4
  mean_reversion:
    enabled: false
    weight: 0.0
  ml_ensemble:
    enabled: false
    weight: 0.0
  momentum:
    enabled: false
    weight: 0.0
  vwap:
    enabled: false
    weight: 0.0
timeframe: 1Hour
trading:
  lookback_period: 200
  warmup_bars: 200
  # ============================================================
  # WATCHLIST - Change based on mode above
  # ============================================================
  # For TRADELOCKER: universe_tradelocker_crypto.yaml
  # For ALPACA:      universe_original.yaml (full scanner universe)
  # ============================================================
  watchlist_file: universe_original.yaml
trailing_stop:
  activation_pct: 0.15
  enabled: false
  move_to_breakeven: true
  trail_pct: 0.15
volatility_scanner:
  enabled: true  # Scans for volatile stocks daily
  min_market_cap: 300000000
  min_price: 5
  min_volume: 500000
  refresh_time: 09:00
  top_n: 10
  weights:
    atr_pct: 0.5
    daily_range_pct: 0.3
    volume_ratio: 0.2
